# hiveplotlib-javascript

JavaScript (D3) Code for Visualizing JSON outputs from [Hiveplotlib](https://gitlab.com/geomdata/hiveplotlib).

## Goal of This Repository

This repository is intended to reduce the barriers to entry for people to use hive plots for their network visualization
/ analysis. Specifically, if you are a back-end developer hoping to use Hiveplotlib on a project,
then you can point a front-end team to this resource to accelerate the integration.

## Features

- Renders `hiveplotlib.HivePlot` JSON exports using D3.js.
- Supports all `hiveplotlib` visual keyword arguments: edge color/alpha/linewidth/linestyle,
  node color/size/alpha/edgecolor, and colormaps. Kwarg conversion (alias resolution, linestyle
  mapping, colormap mapping, scatter size conversion) is designed for hive plots exported from the
  **matplotlib** backend, which is `hiveplotlib`'s default.
- Accepts both file paths (loaded via `d3.json()`) and in-memory JavaScript objects.
- Minified ESM bundle available (`hive_plots_d3_viz.min.js`).

## Installation

### npm

```bash
npm install @hiveplotlib/d3
```

### CDN

No installation needed — import directly in a browser or Jupyter notebook:

```javascript
import visualizeHivePlot from "https://cdn.jsdelivr.net/npm/@hiveplotlib/d3/hive_plots_d3_viz.min.js";
```

For local development, testing, and building see [CONTRIBUTING.md](CONTRIBUTING.md).

## Usage

```javascript
// npm
import visualizeHivePlot from "@hiveplotlib/d3";

// CDN
import visualizeHivePlot from "https://cdn.jsdelivr.net/npm/@hiveplotlib/d3/hive_plots_d3_viz.min.js";

// from a URL (async — awaits data loading before rendering)
await visualizeHivePlot(
  "example_hive_plot.json",
  [-6, 6],
  [-6, 6],
  20,
  0,
  0,
  0,
  550,
  550,
  "my-container",
);

// from an in-memory object
await visualizeHivePlot(
  data,
  [-6, 6],
  [-6, 6],
  20,
  0,
  0,
  0,
  550,
  550,
  "my-container",
  {
    showLabels: true,
    labelsBuffer: 1.1,
    fontSize: 14,
  },
);
```

See the [Hiveplotlib documentation](https://hiveplotlib.readthedocs.io/) for an introduction to Hive Plots,
and for more on the JSON structure generated, see
[here](https://hiveplotlib.readthedocs.io/stable/notebooks/hive_plot_viz_outside_matplotlib.html#Exporting-Hive-Plots-as-JSON).

## A Note on JSON Fixtures

`example_hive_plot.json` and the files under `tests/fixtures/` are generated by `hiveplotlib` static methods
(`example_hive_plot`, `example_minimal_hive_plot`, `example_multi_tag_hive_plot`, `example_full_kwargs_hive_plot`)
and tested through Continuous Integration to ensure the JSON data stays in sync.

Should the JSON output ever be changed in Hiveplotlib, it will be changed here as well.
