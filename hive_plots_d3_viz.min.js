"use strict";import*as d3 from"https://cdn.jsdelivr.net/npm/d3@7/+esm";export function marcon(t=0,e=0,n=0,r=0,o=900,a=600,i="body"){var s,d={};return d.top=function(e){return arguments.length?(t=e,d):t},d.left=function(t){return arguments.length?(n=t,d):n},d.right=function(t){return arguments.length?(r=t,d):r},d.bottom=function(t){return arguments.length?(e=t,d):e},d.width=function(t){return arguments.length?(o=t,d):o},d.height=function(t){return arguments.length?(a=t,d):a},d.element=function(t){return arguments.length?(i=t,d):i},d.innerWidth=function(){return d.width()-d.left()-d.right()},d.innerHeight=function(){return d.height()-d.top()-d.bottom()},d.svg=function(){return s},d.render=function(){s=d3.select(i).append("svg").attr("width",d.innerWidth()+d.left()+d.right()).attr("height",d.innerHeight()+d.top()+d.bottom()).append("g").attr("transform","translate("+n+", "+t+")")},d}export function initializeSVG(t=[-5,5],e=[-5,5],n=0,r=0,o=0,a=0,i=450,s=450,d="body"){var l=marcon().top(n).bottom(r).left(o).right(a).width(i).height(s).element(d);l.render();const g=d3.scaleLinear().range([s-r,n]).domain(e),c=d3.scaleLinear().range([o,i-a]).domain(t);return{svgInfo:l,xExtent:t,yExtent:e,x:c,y:g}}export function plotAxes(t,e,n,r){var o=Object.keys(t.axes);for(let g=0;g<o.length;g++){var a=t.axes[o[g]].start,i=t.axes[o[g]].end,s=[n(a[0]),r(a[1])],d=[n(i[0]),r(i[1])],l=d3.line()([s,d]);e.append("path").datum(t).attr("d",l).attr("stroke","black").attr("stroke-width",1.5).attr("class","axis")}}export function plotNodes(t,e,n,r){var o=Object.keys(t.axes);for(let s=0;s<o.length;s++){var a=t.axes[o[s]].nodes.x,i=t.axes[o[s]].nodes.y;e.selectAll("circle.datapoint").data(d3.zip(a,i)).enter().append("circle").attr("cx",t=>n(t[0])).attr("cy",t=>r(t[1])).attr("r",3).attr("class","node")}}export function plotEdges(t,e,n,r){for(var o=Object.keys(t.edges),a=0;a<o.length;a++)for(var i=Object.keys(t.edges[o[a]]),s=0;s<i.length;s++)for(var d=Object.keys(t.edges[o[a]][i[s]]),l=0;l<d.length;l++){for(var g=t.edges[o[a]][i[s]][d[l]],c=g.ids.length,h=0;h<c;h++){var f=g.curves[h],u=d3.line().x(t=>n(t[0])).y(t=>r(t[1]));e.append("path").datum(f).attr("d",t=>u(t)).attr("points",f).attr("stroke",g.edge_kwargs.color).attr("fill","none").attr("stroke-width",1.5)}break}}export default function visualizeHivePlot(t,e=[-5,5],n=[-5,5],r=0,o=0,a=0,i=0,s=450,d=450,l="body"){var g=initializeSVG(e,n,r,o,a,i,s,d,l);return d3.json(t).then(function(t){plotEdges(t,g.svgInfo.svg(),g.x,g.y),plotAxes(t,g.svgInfo.svg(),g.x,g.y),plotNodes(t,g.svgInfo.svg(),g.x,g.y)}),g.svgInfo.svg()}